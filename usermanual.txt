# TASKMANAGER KULLANIM KILAVUZU

## GENEL BAKIŞ

TaskManager, Unix-benzeri sistemlerde süreçleri yönetmek, zamanlanmış görevler oluşturmak ve sistem kaynaklarını izlemek için kapsamlı bir araçtır. Bu araç şu özellikleri sunar:

- Çalışan tüm işlemleri listeleme ve filtreleme
- İşlemleri sonlandırma ve önceliklerini değiştirme
- İşlem durumu bilgilerini ve hiyerarşisini görüntüleme
- Sistem kaynak kullanımını izleme
- Zamanlanmış görevler planlama ve yönetme
- Anlık mesajlaşma (Chat App) uygulaması

## ANA MENÜ

TaskManager başlatıldığında ana menüde şu seçenekler görüntülenir:

1. List all processes - Tüm işlemleri listeler
2. Filter processes by name - İşlemleri isme göre filtreler
3. Find process by PID - PID ile işlem bulur
4. Terminate a process - İşlem sonlandırır
5. Change process priority - İşlem önceliğini değiştirir
6. Show process states information - İşlem durumu bilgilerini gösterir
7. Display process tree - İşlem ağacını gösterir
8. Show top resource usage - En çok kaynak kullanan işlemleri gösterir
9. Group operations - Grup işlemleri yapar
10. Chat App - Sohbet uygulamasını açar
11. Task Scheduler - Görev zamanlayıcıyı açar
0. Exit - Programdan çıkar

## TASK SCHEDULER KULLANIMI

Task Scheduler, belirli görevleri planlamanıza ve otomatik olarak çalıştırmanıza olanak tanır. Üç tür zamanlama seçeneği sunar:

1. **Tek Seferlik Çalıştırma**: Belirtilen tarih ve saatte bir kez çalıştırılır
2. **Aralıklarla Çalıştırma**: Belirtilen sürede bir tekrarlanır (örn: her 60 saniyede bir)
3. **Günlük Çalıştırma**: Her gün belirtilen saatte çalıştırılır

**ÖNEMLİ BİLGİ**: Task Scheduler'da iki farklı kimlik numarası kullanılır:
- **Task ID**: Görevler oluşturulduğunda 1, 2, 3... şeklinde sıralı olarak atanan basit tanımlayıcılardır. Bu ID'ler Task Scheduler menüsündeki "List scheduled tasks" seçeneğiyle görüntülenebilir ve task silme veya yönetme işlemlerinde kullanılır.
- **Process ID (PID)**: Görevler çalıştırıldığında, her görev gerçek bir sistem işlemi (process) olarak başlatılır ve işletim sistemi tarafından atanan benzersiz bir PID alır. Bu PID'ler ana menüdeki "List all processes" veya "Filter processes by name" seçenekleri ile görüntülenebilir.

Scheduler çalıştırıldığında, her task gerçek bir işlem (process) olarak sisteme eklenir ve her birine benzersiz bir PID atanır. Bu sayede, diğer sistem işlemleri gibi önceliklerini değiştirebilir ve yönetebilirsiniz.

### Örnek: Üç Adet Görev Planlama ve Önceliklerini Değiştirme

#### Adım 1: TaskManager'ı Başlatma
```
./process_manager
```

#### Adım 2: İlk Task'ı Ekleme
1. Ana menüden "11. Task Scheduler" seçin
2. Task Scheduler menüsünde "2. Add new task" seçin
3. Komut olarak: `echo "Bu ilk görevimiz" >> task_log.txt`
4. Zamanlama tipi: "2. Run at intervals" (aralıklarla çalışsın)
5. Zaman aralığı: 60 (her dakika çalışacak)
6. Task başarıyla eklendiğinde, Task ID 1 olarak atanacaktır

#### Adım 3: İkinci Task'ı Ekleme
1. Tekrar "2. Add new task" seçin
2. Komut olarak: `ls -la >> system_files.txt`
3. Zamanlama tipi: "3. Run daily at specific time" (günlük belirli saatte)
4. Çalışma zamanı formatı: "YYYY MM DD HH MM" girin
5. Task başarıyla eklendiğinde, Task ID 2 olarak atanacaktır

#### Adım 4: Üçüncü Task'ı Ekleme
1. Tekrar "2. Add new task" seçin
2. Komut olarak: `ps aux | grep firefox > browser_status.txt`
3. Zamanlama tipi: "1. Run once at specific time" (tek seferlik)
4. Çalışma zamanı formatı: "YYYY MM DD HH MM" girin
5. Task başarıyla eklendiğinde, Task ID 3 olarak atanacaktır

#### Adım 5: Task'ların Listesini Görüntüleme
1. "1. List scheduled tasks" seçin
2. Planlanan görevlerin listesi Task ID'leri (1, 2, 3) ile birlikte görüntülenecektir
3. Bu Task ID'ler, task'ı silmek veya düzenlemek istediğinizde kullanılır

#### Adım 6: Görev Zamanlayıcıyı Başlatma
1. "4. Start scheduler" seçin
2. Görevler belirtilen zamanlarda çalışmaya başlayacaktır
3. Her çalıştırılan task, Task ID'den bağımsız olarak bir process olarak başlar ve kendisine sistem tarafından bir PID atanır

#### Adım 7: Çalışan Task'ların PID'lerini Bulma
1. Ana menüye dönmek için "0. Back to main menu" seçin
2. Ana menüden "1. List all processes" seçin
3. Task ile ilgili process'leri görmek için filtreleme yapabilirsiniz:
   - "2. Filter processes by name" seçip filtreleme yapabilirsiniz
   - Filtre olarak "task" veya komutunuzun bir kısmını kullanabilirsiniz
4. Her task'ın PID numarasını not alın (bunlar Task ID'lerinden farklıdır, örneğin Task ID 1 olan görev, PID 5432 olarak çalışabilir)

#### Adım 8: Task Önceliklerini Değiştirme
1. Ana menüden "5. Change process priority" seçin
2. Önceliğini değiştirmek istediğiniz task'ın PID'sini girin (Task ID değil, gerçek PID)
3. Yeni öncelik değerini girin:
   - Yüksek öncelik için: `-10` (CPU'ya daha fazla erişim sağlar)
   - Normal öncelik için: `0`
   - Düşük öncelik için: `10` (CPU'yu diğer işlemlere bırakır)
4. Task'ın önceliği değiştirilecektir

#### Adım 9: Task'ı Silme
1. Ana menüde "11. Task Scheduler" seçin
2. "3. Remove task" seçin
3. Kaldırmak istediğiniz task'ın ID'sini girin (1, 2 veya 3 gibi)
4. Task başarıyla kaldırılacaktır

### Task Yönetimi İpuçları
- Task ID'leri (1, 2, 3...) sadece Task Scheduler içinde kullanılır ve task'ları tanımlamak içindir
- PID'ler, task çalıştığında oluşan gerçek işlemleri tanımlar ve sistem genelinde benzersizdir
- Çalışan task'ları görmek için ana menüden "1. List all processes" seçebilirsiniz
- Yeni task eklediğinizde ve Scheduler'ı başlattığınızda, her task ayrı bir işlem olarak sistemde görünür
- Task Scheduler'ı durdurduğunuzda (Stop scheduler), işlemler sonlanacaktır, ancak tekrar başladığında yeni işlemler oluşturulur
- Task'lar sistem kaynakları için rekabet edebilir, bu yüzden önemli task'lara daha yüksek öncelik (düşük nice değeri) verilmesi önerilir
- Task'ları her başlattığınızda kullanıcı kılavuzunun "İşlem Önceliklerini Değiştirme" bölümündeki adımları izleyerek önceliklerini ayarlayabilirsiniz

## İŞLEM ÖNCELİKLERİNİ DEĞİŞTİRME

TaskManager ile çalışan herhangi bir işlemin önceliğini değiştirebilirsiniz. Unix sistemlerinde, öncelik değerleri `-20` (en yüksek öncelik) ile `19` (en düşük öncelik) arasındadır.

### Tek İşlem Önceliği Değiştirme

1. Ana menüden "5. Change process priority" seçin
2. Değiştirmek istediğiniz işlemin PID'sini girin
3. Yeni öncelik değerini girin (-20 ile 19 arasında)

Örnek:
- Yüksek öncelik için: `-10`
- Normal öncelik için: `0`
- Düşük öncelik için: `10`

### Grup İşlemlerini Kullanarak Toplu Öncelik Değiştirme

1. Ana menüden "9. Group operations" seçin
2. Pattern tipi:
   - 1. Process name (işlem adına göre)
   - 2. Username (kullanıcı adına göre)
   - 3. Process state (işlem durumuna göre)
3. Eşleşecek pattern'i girin (örn: "bash")
4. İşlem olarak "2. Change priority" seçin
5. Tüm eşleşen işlemler için yeni öncelik değerini girin

## CHAT APP KULLANIMI

TaskManager içindeki Chat App, anlık mesajlaşma imkanı sunar. Üç bileşeni vardır:

1. **Server**: Mesajları yöneten sunucu
2. **Client (Terminal UI)**: Gelişmiş kullanıcı arayüzüne sahip istemci
3. **Client (Basic)**: Basit komut satırı istemcisi

### Server Başlatma
1. Ana menüden "10. Chat App" seçin
2. "1. Start Server" seçin
3. Sunucu arkaplanda başlatılacaktır

### İstemci Kullanımı (Terminal UI)
1. Ana menüden "10. Chat App" seçin
2. "2. Start Client (Terminal UI)" seçin
3. Kullanıcı adınızı girin
4. Terminal UI arayüzünde:
   - Mesaj göndermek için yazıp Enter'a basın
   - Komutlar için "/" ile başlayan mesajlar kullanın: `/help`, `/list`, `/msg username message`, `/quit`
   - Kullanıcı listesini görmek için F2'ye basın

### İstemci Kullanımı (Basit)
1. Ana menüden "10. Chat App" seçin
2. "3. Start Client (Basic)" seçin
3. Kullanıcı adınızı girin
4. Komut satırı arayüzünde:
   - Mesaj göndermek için yazıp Enter'a basın
   - Komutlar: `/help`, `/list`, `/msg username message`, `/quit`

## DİĞER ÖZELLİKLER

### İşlem Durumu Bilgileri
Ana menüden "6. Show process states information" seçerek işlem durumlarının anlamları hakkında bilgi alabilirsiniz:
- R: Running - Çalışıyor veya çalışmaya hazır
- S: Sleeping - Kesilebilir uyku modunda
- D: Uninterruptible Sleep - Kesilemeyen uyku modunda
- Z: Zombie - Sonlandırılmış ancak ebeveyni tarafından temizlenmemiş
- T: Stopped - Durdurulmuş

### İşlem Ağacı Görüntüleme
Ana menüden "7. Display process tree" seçerek işlem hiyerarşisini görüntüleyebilirsiniz:
1. Tüm işlemleri göster
2. Belirli bir PID için ağaç göster

### Kaynak Kullanımı İzleme
Ana menüden "8. Show top resource usage" seçerek en çok kaynak kullanan işlemleri listeleyebilirsiniz:
1. CPU kullanımına göre sırala
2. Bellek kullanımına göre sırala

## İPUÇLARI VE NOTLAR

- Bazı işlemler (özellikle başka kullanıcılara ait olan) için yönetici yetkileri gerekebilir
- İşlem sonlandırma sırasında "SIGTERM" yerine "SIGKILL" kullanmak, işlemin temiz bir şekilde kapanmasını engeller
- Grup işlemleri, birden çok işlemi aynı anda yönetmek için çok kullanışlıdır
- Task Scheduler'da planladığınız komutların çalışabilir olduğundan emin olun
- Chat App sunucusu ve istemcisi aynı makinede olmalıdır, aksi takdirde FIFO yolları ayarlanmalıdır

## HATA AYIKLAMA

Eğer programda bir sorun yaşarsanız:
1. `make debug` ile hata ayıklama sembolleriyle derleyin
2. `gdb ./process_manager` komutunu kullanarak GDB ile çalıştırın
3. Hata mesajlarını inceleyerek sorunun kaynağını tespit edin

---
TaskManager v1.0 (c) kappasutra 